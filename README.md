# log-json-and-pg
Небольшая утилитка, созданная для "реалтайм" поиска в строке лога JSONа опреденного формата и вставки этого JSONа в таблицу БД постгрес.  
Пример:  
- Строка лога: 2021-12-27 20:19:37.035  INFO 22828 --- [ttings.logs_new] route-14 :  **sql_body:**{"id":1,"message":"test_message","route":"route-14", "host":"127.0.0.1"}  
  где **sql_body:** отмечено начало пользовательского JSONа.  
- в config.ini задан патерн JSONa pattern = id,message,route,host  **!JSON с другими ключами не будет обработан**  
- в config.ini задано подключение к БД постгрес и таблица в которую необходимо положить JSON **Таблица должна иметь столбцы, соответствующие паттерну**  
create table log (id int, message varchar, route varchar, host varchar)
- при появление строки с JSONом, удоволетворяющему паттерну, этот JSON будет разобран и значение ключей будет записано в соответствующие столбцы

*main.bin бинарник созданный с помощью Nuitka

